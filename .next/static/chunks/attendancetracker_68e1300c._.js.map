{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SARANSH/attendancetracker/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport abi from \"../utils/contractABI.json\";\n\nexport default function Home() {\n  const [total, setTotal] = useState(0);\n  const [hasMarked, setHasMarked] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [wallet, setWallet] = useState(\"\");\n\n  const contractAddress = process.env.NEXT_PUBLIC_CONTRACT_ADDRESS;\n\n  const getContract = async () => {\n    const provider = new ethers.BrowserProvider(window.ethereum);\n    const signer = await provider.getSigner();\n    return new ethers.Contract(contractAddress, abi, signer);\n  };\n\n  const loadDetails = async () => {\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", []);\n      const signer = await provider.getSigner();\n      const user = await signer.getAddress();\n      setWallet(user);\n\n      const contract = new ethers.Contract(contractAddress, abi, provider);\n      const totalResult = await contract.getTotalAttendees();\n      const marked = await contract.hasMarked(user);\n\n      setTotal(Number(totalResult));\n      setHasMarked(marked);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const markAttendance = async () => {\n    try {\n      setLoading(true);\n      const contract = await getContract();\n\n      const tx = await contract.markAttendance();\n      await tx.wait();\n\n      await loadDetails();\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadDetails();\n  }, []);\n\n  return (\n    <div className=\"relative min-h-screen flex flex-col items-center justify-center px-6 overflow-hidden bg-black text-white\">\n\n      {/* Glowing blobs */}\n      <div className=\"absolute top-[-150px] left-[-150px] h-[400px] w-[400px] bg-green-500 rounded-full blur-[180px] opacity-20\"></div>\n      <div className=\"absolute bottom-[-150px] right-[-150px] h-[400px] w-[400px] bg-blue-500 rounded-full blur-[180px] opacity-20\"></div>\n\n      {/* Main container */}\n      <div className=\"z-10 flex flex-col items-center text-center space-y-10 max-w-xl w-full\">\n\n        <h1 className=\"text-6xl font-extrabold bg-gradient-to-r from-green-300 to-blue-400 bg-clip-text text-transparent drop-shadow-xl animate-fadeIn\">\n          Attendance Tracker\n        </h1>\n\n        {/* Wallet box */}\n        <div className=\"w-full glass rounded-2xl p-5 border border-white/10 shadow-xl animate-fadeIn\">\n          <p className=\"text-gray-300 text-sm\">\n            Connected Wallet:{\" \"}\n            <span className=\"text-green-400\">\n              {wallet ? `${wallet.slice(0, 6)}...${wallet.slice(-4)}` : \"Not Connected\"}\n            </span>\n          </p>\n        </div>\n\n        {/* Attendance button */}\n        {!hasMarked ? (\n          <button\n            onClick={markAttendance}\n            disabled={loading}\n            className=\"px-10 py-4 text-xl font-semibold rounded-2xl \n            bg-gradient-to-r from-green-400 to-blue-400 text-black\n            shadow-[0_0_25px_rgba(0,255,200,0.6)]\n            hover:scale-105 hover:shadow-[0_0_40px_rgba(0,255,200,0.9)]\n            active:scale-95 transition-all duration-300 ease-out animate-fadeIn\"\n          >\n            {loading ? \"Marking...\" : \"Mark Attendance\"}\n          </button>\n        ) : (\n          <p className=\"text-2xl text-green-400 font-semibold animate-fadeIn\">\n            ðŸŽ‰ Attendance Recorded!\n          </p>\n        )}\n\n        {/* Stats box */}\n        <div className=\"glass w-full p-8 rounded-3xl text-left border border-white/10 shadow-xl animate-fadeIn\">\n          <h2 className=\"text-3xl font-bold mb-6\">Live Stats</h2>\n\n          <p className=\"text-xl mb-4\">\n            Total Attendees:{\" \"}\n            <span className=\"text-green-300 font-semibold\">{total}</span>\n          </p>\n\n          <p className=\"text-gray-400 text-sm\">\n            Anyone can mark attendance by switching to a different wallet.\n          </p>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAY0B;;AAV1B;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8LAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8LAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8LAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8LAAQ,EAAC;IAErC,MAAM;IAEN,MAAM,cAAc;QAClB,MAAM,WAAW,IAAI,kNAAM,CAAC,eAAe,CAAC,OAAO,QAAQ;QAC3D,MAAM,SAAS,MAAM,SAAS,SAAS;QACvC,OAAO,IAAI,kNAAM,CAAC,QAAQ,CAAC,iBAAiB,4HAAG,EAAE;IACnD;IAEA,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,WAAW,IAAI,kNAAM,CAAC,eAAe,CAAC,OAAO,QAAQ;YAC3D,MAAM,SAAS,IAAI,CAAC,uBAAuB,EAAE;YAC7C,MAAM,SAAS,MAAM,SAAS,SAAS;YACvC,MAAM,OAAO,MAAM,OAAO,UAAU;YACpC,UAAU;YAEV,MAAM,WAAW,IAAI,kNAAM,CAAC,QAAQ,CAAC,iBAAiB,4HAAG,EAAE;YAC3D,MAAM,cAAc,MAAM,SAAS,iBAAiB;YACpD,MAAM,SAAS,MAAM,SAAS,SAAS,CAAC;YAExC,SAAS,OAAO;YAChB,aAAa;QACf,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM;YAEvB,MAAM,KAAK,MAAM,SAAS,cAAc;YACxC,MAAM,GAAG,IAAI;YAEb,MAAM;QACR,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,+LAAS;0BAAC;YACR;QACF;yBAAG,EAAE;IAEL,qBACE,kNAAC;QAAI,WAAU;;0BAGb,kNAAC;gBAAI,WAAU;;;;;;0BACf,kNAAC;gBAAI,WAAU;;;;;;0BAGf,kNAAC;gBAAI,WAAU;;kCAEb,kNAAC;wBAAG,WAAU;kCAAkI;;;;;;kCAKhJ,kNAAC;wBAAI,WAAU;kCACb,cAAA,kNAAC;4BAAE,WAAU;;gCAAwB;gCACjB;8CAClB,kNAAC;oCAAK,WAAU;8CACb,SAAS,AAAC,GAA0B,OAAxB,OAAO,KAAK,CAAC,GAAG,IAAG,OAAsB,OAAjB,OAAO,KAAK,CAAC,CAAC,MAAO;;;;;;;;;;;;;;;;;oBAM/D,CAAC,0BACA,kNAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAU;kCAMT,UAAU,eAAe;;;;;6CAG5B,kNAAC;wBAAE,WAAU;kCAAuD;;;;;;kCAMtE,kNAAC;wBAAI,WAAU;;0CACb,kNAAC;gCAAG,WAAU;0CAA0B;;;;;;0CAExC,kNAAC;gCAAE,WAAU;;oCAAe;oCACT;kDACjB,kNAAC;wCAAK,WAAU;kDAAgC;;;;;;;;;;;;0CAGlD,kNAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;;;;;;;AAQ/C;GAjHwB;KAAA","debugId":null}}]
}